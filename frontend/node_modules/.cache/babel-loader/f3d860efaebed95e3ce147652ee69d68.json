{"ast":null,"code":"var _jsxFileName = \"/Users/evanfannin/projects/airbnb_clone/frontend/src/pages/house/createHouse.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ContentCard from \"../../components/contentCard\";\nimport LayoutContainer from \"../../components/layoutContainer\";\nimport MainContent from \"../general/mainContent\";\nimport PageTitle from \"../../components/pageTitle\";\nimport Button from '../../components/button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreateHouse extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({ ...this.state,\n        [e.target.name]: e.target.value.trim()\n      });\n    };\n\n    this.handleHouseImageChange = e => {\n      if (e.target.files.length != 0) {\n        const houseImages = this.state.houseImages.slice();\n        houseImages.push(e.target.files[0]);\n        console.log(houseImages);\n        this.setState({\n          houseImages: houseImages\n        });\n      }\n    };\n\n    this.state = {\n      houseName: '',\n      houseAddress: '',\n      housePrice: 0,\n      houseImages: []\n    };\n  }\n\n  handleCreateRoom() {\n    const formData = new FormData();\n    formData.append(\"name\", this.state.houseName);\n    formData.append(\"address\", this.state.houseAddress);\n    formData.append(\"price_per_night\", this.state.housePrice);\n\n    for (let i = 0; i < this.state.houseImages.length; i++) {\n      formData.append(\"image\" + i.toString(), this.state.houseImages[i]);\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      body: formData\n    };\n    fetch(\"/api/create-house/\", requestOptions).then(response => response.json()).then(data => {\n      this.props.history.push('/house/' + data.name);\n      console.log(data);\n    });\n  }\n\n  handleHousePriceChange(e) {\n    this.setState({\n      housePrice: e.target.value\n    });\n  }\n\n  handleHouseNameChange(e) {\n    this.setState({\n      houseName: e.target.value\n    });\n  }\n\n  handleHouseAddressChange(e) {\n    this.setState({\n      houseAddress: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(MainContent, {\n      children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n        title: \"Create a House\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ContentCard, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              id: \"houseName\",\n              label: \"House Name\",\n              name: \"houseName\",\n              autoFocus: true,\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Address\", /*#__PURE__*/_jsxDEV(\"input\", {\n              autoComplete: \"address\",\n              required: true,\n              id: \"houseAddress\",\n              label: \"House Address\",\n              name: \"houseAddress\",\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Price Per Night\", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              id: \"price\",\n              label: \"Price Per Night\",\n              name: \"price\",\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Images\", /*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              hidden: true,\n              onChange: this.handleHouseImageChange,\n              id: \"imageInput\",\n              multiple: true,\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.houseImages.map(image => image['name'] + \", \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => this.handleCreateRoom(),\n            children: \"Add House\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/evanfannin/projects/airbnb_clone/frontend/src/pages/house/createHouse.js"],"names":["React","Component","Link","ContentCard","LayoutContainer","MainContent","PageTitle","Button","CreateHouse","constructor","props","handleChange","e","setState","state","target","name","value","trim","handleHouseImageChange","files","length","houseImages","slice","push","console","log","houseName","houseAddress","housePrice","handleCreateRoom","formData","FormData","append","i","toString","requestOptions","method","body","fetch","then","response","json","data","history","handleHousePriceChange","handleHouseNameChange","handleHouseAddressChange","render","map","image"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport ContentCard from \"../../components/contentCard\";\nimport LayoutContainer from \"../../components/layoutContainer\";\nimport MainContent from \"../general/mainContent\";\nimport PageTitle from \"../../components/pageTitle\";\nimport Button from '../../components/button';\n\nexport default class CreateHouse extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            houseName: '',\n            houseAddress: '',\n            housePrice: 0,\n            houseImages: []\n        };\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            ...this.state,\n            [e.target.name]: e.target.value.trim()\n        });\n    }\n\n    handleCreateRoom() {\n        const formData = new FormData();\n        formData.append(\"name\", this.state.houseName);\n        formData.append(\"address\", this.state.houseAddress);\n        formData.append(\"price_per_night\", this.state.housePrice);\n        for (let i = 0; i < this.state.houseImages.length; i++) {\n            formData.append(\"image\" + i.toString(), this.state.houseImages[i])\n        }\n        const requestOptions = {\n            method: 'POST',\n            body: formData\n        };\n\n        fetch(\"/api/create-house/\", requestOptions)\n        .then((response) => response.json())\n        .then((data) => {\n        this.props.history.push('/house/' + data.name);\n        console.log(data);\n        });\n    }\n\n    handleHousePriceChange(e) {\n        this.setState({\n            housePrice: e.target.value\n        });\n    }\n\n    handleHouseNameChange(e) {\n        this.setState({\n            houseName: e.target.value\n        });\n    }\n\n    handleHouseAddressChange(e) {\n        this.setState({\n            houseAddress: e.target.value\n        });\n    }\n\n    handleHouseImageChange = e => {\n        if (e.target.files.length != 0) {\n            const houseImages = this.state.houseImages.slice()\n            houseImages.push(e.target.files[0])\n            console.log(houseImages)\n            this.setState({\n                houseImages: houseImages\n            });\n        }\n    }\n\n    render() {\n        return (\n            <MainContent>\n                <PageTitle title='Create a House' />\n                <ContentCard> \n                    <form className='form' noValidate>\n                        <label>\n                            House Name\n                            <input\n                                required\n                                id=\"houseName\"\n                                label=\"House Name\"\n                                name=\"houseName\"\n                                autoFocus\n                                onChange={(e) => this.handleChange(e)}\n                            />\n                    </label>\n                    <label>\n                        House Address\n                        <input\n                            autoComplete=\"address\"\n                            required\n                            id=\"houseAddress\"\n                            label=\"House Address\"\n                            name=\"houseAddress\"\n                            onChange={(e) => this.handleChange(e)}\n                        />\n                    </label>\n                    <label>\n                        Price Per Night\n                        <input\n                            required\n                            type='number'\n                            id=\"price\"\n                            label=\"Price Per Night\"\n                            name=\"price\"\n                            onChange={(e) => this.handleChange(e)}\n                        />\n                    </label>\n                        <label>\n                            House Images\n                            <input\n                                accept=\"image/*\"\n                                hidden\n                                onChange={this.handleHouseImageChange}\n                                id=\"imageInput\"\n                                multiple\n                                type=\"file\"\n                                />\n                                <button>Upload</button>\n                        </label>  \n                        <p>{this.state.houseImages.map(image => image['name'] + \", \")}</p>\n                        <Button\n                        onClick={() => this.handleCreateRoom()}>\n                        Add House\n                        </Button>\n                    </form>\n            </ContentCard>\n        </MainContent>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}