{"ast":null,"code":"var _jsxFileName = \"/Users/evanfannin/projects/airbnb_clone/frontend/src/pages/house/createHouse.js\";\nimport React, { Component } from \"react\";\nimport ContentCard from \"../../components/contentCard\";\nimport MainContent from \"../general/mainContent\";\nimport PageTitle from \"../../components/pageTitle\";\nimport Button from '../../components/button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreateHouse extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({ ...this.state,\n        [e.target.name]: e.target.value.trim()\n      });\n    };\n\n    this.handleHouseImageChange = e => {\n      if (e.target.files.length !== 0) {\n        const houseImages = this.state.houseImages.slice();\n        e.target.files.forEach(file => houseImages.push(file));\n        console.log(houseImages);\n        this.setState({\n          houseImages: houseImages\n        });\n      }\n    };\n\n    this.handleUploadButtonClick = () => {\n      document.getElementById('imageInput').click();\n    };\n\n    this.state = {\n      houseName: '',\n      houseAddress: '',\n      housePrice: 0,\n      houseImages: []\n    };\n  }\n\n  handleCreateRoom(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", this.state.houseName);\n    formData.append(\"address\", this.state.houseAddress);\n    formData.append(\"price_per_night\", this.state.housePrice);\n\n    for (let i = 0; i < this.state.houseImages.length; i++) {\n      formData.append(\"image\" + i.toString(), this.state.houseImages[i]);\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      body: formData\n    };\n    fetch(\"/api/create-house/\", requestOptions).then(response => response.json()).then(data => {\n      this.props.history.push('/house/' + data.name);\n      console.log(data);\n    });\n  }\n\n  handleHousePriceChange(e) {\n    this.setState({\n      housePrice: e.target.value\n    });\n  }\n\n  handleHouseNameChange(e) {\n    this.setState({\n      houseName: e.target.value\n    });\n  }\n\n  handleHouseAddressChange(e) {\n    this.setState({\n      houseAddress: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(MainContent, {\n      children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n        title: \"Create a House\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ContentCard, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              id: \"houseName\",\n              label: \"House Name\",\n              name: \"houseName\",\n              autoFocus: true,\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Address\", /*#__PURE__*/_jsxDEV(\"input\", {\n              autoComplete: \"address\",\n              required: true,\n              id: \"houseAddress\",\n              label: \"House Address\",\n              name: \"houseAddress\",\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Price Per Night\", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              id: \"price\",\n              label: \"Price Per Night\",\n              name: \"price\",\n              onChange: e => this.handleChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"House Images\", /*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              hidden: true,\n              onChange: this.handleHouseImageChange,\n              id: \"imageInput\",\n              multiple: true,\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.handleUploadButtonClick(),\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.houseImages.map(image => image['name'] + \", \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => this.handleCreateRoom(e),\n            children: \"Add House\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/evanfannin/projects/airbnb_clone/frontend/src/pages/house/createHouse.js"],"names":["React","Component","ContentCard","MainContent","PageTitle","Button","CreateHouse","constructor","props","handleChange","e","setState","state","target","name","value","trim","handleHouseImageChange","files","length","houseImages","slice","forEach","file","push","console","log","handleUploadButtonClick","document","getElementById","click","houseName","houseAddress","housePrice","handleCreateRoom","preventDefault","formData","FormData","append","i","toString","requestOptions","method","body","fetch","then","response","json","data","history","handleHousePriceChange","handleHouseNameChange","handleHouseAddressChange","render","map","image"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport ContentCard from \"../../components/contentCard\";\nimport MainContent from \"../general/mainContent\";\nimport PageTitle from \"../../components/pageTitle\";\nimport Button from '../../components/button';\n\nexport default class CreateHouse extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            houseName: '',\n            houseAddress: '',\n            housePrice: 0,\n            houseImages: []\n        };\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            ...this.state,\n            [e.target.name]: e.target.value.trim()\n        });\n    }\n\n    handleCreateRoom(e) {\n        e.preventDefault();\n\n        const formData = new FormData();\n        formData.append(\"name\", this.state.houseName);\n        formData.append(\"address\", this.state.houseAddress);\n        formData.append(\"price_per_night\", this.state.housePrice);\n        for (let i = 0; i < this.state.houseImages.length; i++) {\n            formData.append(\"image\" + i.toString(), this.state.houseImages[i])\n        }\n        const requestOptions = {\n            method: 'POST',\n            body: formData\n        };\n\n        fetch(\"/api/create-house/\", requestOptions)\n        .then((response) => response.json())\n        .then((data) => {\n        this.props.history.push('/house/' + data.name);\n        console.log(data);\n        });\n    }\n\n    handleHousePriceChange(e) {\n        this.setState({\n            housePrice: e.target.value\n        });\n    }\n\n    handleHouseNameChange(e) {\n        this.setState({\n            houseName: e.target.value\n        });\n    }\n\n    handleHouseAddressChange(e) {\n        this.setState({\n            houseAddress: e.target.value\n        });\n    }\n\n    handleHouseImageChange = e => {\n        if (e.target.files.length !== 0) {\n            const houseImages = this.state.houseImages.slice()\n            e.target.files.forEach(file => houseImages.push(file));\n            console.log(houseImages)\n            this.setState({\n                houseImages: houseImages\n            });\n        }\n    }\n\n    handleUploadButtonClick = () => {\n        document.getElementById('imageInput').click();\n    }\n\n    render() {\n        return (\n            <MainContent>\n                <PageTitle title='Create a House' />\n                <ContentCard> \n                    <form className='form' noValidate>\n                        <label>\n                            House Name\n                            <input\n                                required\n                                id=\"houseName\"\n                                label=\"House Name\"\n                                name=\"houseName\"\n                                autoFocus\n                                onChange={(e) => this.handleChange(e)}\n                            />\n                        </label>\n                        <label>\n                            House Address\n                            <input\n                                autoComplete=\"address\"\n                                required\n                                id=\"houseAddress\"\n                                label=\"House Address\"\n                                name=\"houseAddress\"\n                                onChange={(e) => this.handleChange(e)}\n                            />\n                        </label>\n                        <label>\n                            Price Per Night\n                            <input\n                                required\n                                type='number'\n                                id=\"price\"\n                                label=\"Price Per Night\"\n                                name=\"price\"\n                                onChange={(e) => this.handleChange(e)}\n                            />\n                        </label>\n                        <label>\n                            House Images\n                            <input\n                                accept=\"image/*\"\n                                hidden\n                                onChange={this.handleHouseImageChange}\n                                id=\"imageInput\"\n                                multiple\n                                type=\"file\"\n                            />\n                                <Button \n                                onClick={() => this.handleUploadButtonClick()}>Upload</Button>\n                        </label>  \n                        <p>{this.state.houseImages.map(image => image['name'] + \", \")}</p>\n                        <Button\n                        onClick={(e) => this.handleCreateRoom(e)}>\n                        Add House\n                        </Button>\n                    </form>\n            </ContentCard>\n        </MainContent>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}